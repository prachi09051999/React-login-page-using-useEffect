{"version":3,"sources":["components/Login/Login.module.css","components/UI/Input/Input.module.css","components/UI/Card/Card.module.css","components/UI/Button/Button.module.css","components/Home/Home.module.css","components/MainHeader/Navigation.module.css","components/MainHeader/MainHeader.module.css","components/UI/Card/Card.js","components/UI/Button/Button.js","store/auth-context.js","components/UI/Input/Input.js","components/Login/Login.js","components/Home/Home.js","components/MainHeader/Navigation.js","components/MainHeader/MainHeader.js","App.js","index.js"],"names":["module","exports","Card","props","className","classes","card","children","Button","type","button","onClick","disabled","AuthContext","React","createContext","isLoggedIn","onLogout","onLogin","AuthcontextProvider","useState","setIsLoggedIn","useEffect","localStorage","getItem","Provider","value","removeItem","email","password","setItem","Input","forwardRef","ref","inputRef","useRef","active","current","focus","useImperativeHandle","control","isValid","invalid","htmlFor","id","label","onChange","onChangeHandler","onBlur","OnValidation","emailCheck","state","action","val","includes","passwordCheck","trim","length","Login","useReducer","emailValid","dispatchEmail","passwordValid","dispatchPassword","formIsValid","setFormIsValid","ctx","useContext","emailRef","passwordRef","console","log","handleTimer","setTimeout","clearTimeout","login","onSubmit","event","preventDefault","target","onValidation","actions","btn","Home","home","Navigation","nav","href","MainHeader","App","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2cd73e14.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__2Px22\",\"actions\":\"Login_actions__1b5Oz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"Input_control__7JYPz\",\"invalid\":\"Input_invalid__1XscM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1te4P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2lgkF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__3idT9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__JfAVK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-header\":\"MainHeader_main-header__2OmAM\"};","import React from 'react';\n\nimport classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <div className={`${classes.card} ${props.className}`}>{props.children}</div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n  return (\n    <button\n      type={props.type || 'button'}\n      className={`${classes.button} ${props.className}`}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useState, useEffect } from 'react';\n\nconst AuthContext = React.createContext({\n  isLoggedIn: false,\n  onLogout: ()=>{},\n  onLogin: ()=>{}\n});\n\nexport const AuthcontextProvider = (props) => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    if(localStorage.getItem('isLoggedIn') ==='1'){\n      setIsLoggedIn(true);\n    }\n  }, [])\n\n  const loginHandler = (email, password) => {\n    // We should of course check email and password\n    // But it's just a dummy/ demo anyways\n    localStorage.setItem(\"isLoggedIn\",\"1\");\n    setIsLoggedIn(true);\n  };\n\n  const logoutHandler = () => {\n    localStorage.removeItem('isLoggedIn');\n    setIsLoggedIn(false);\n  }; return (\n   <AuthContext.Provider value={\n     {\n       isLoggedIn:isLoggedIn,\n       onLogout: logoutHandler,\n       onLogin: loginHandler\n     }\n   }>\n     {props.children}\n   </AuthContext.Provider>\n );\n}\n\nexport default AuthContext;","import React, { useRef, useImperativeHandle } from 'react';\nimport classes from './Input.module.css';\n\nconst Input = React.forwardRef((props, ref) => {\n  const inputRef = useRef();\n  const active = () => {\n    inputRef.current.focus();\n  }\n\n  useImperativeHandle(ref,()=> {\n    return {\n      focus: active,\n    };\n  }\n  );\n return (\n    <div\n    className={`${classes.control} ${\n      props.isValid === false ? classes.invalid : ''\n    }`}>\n      <label htmlFor={props.id}>{props.label}</label>\n      <input ref={inputRef}\n        type={props.type}\n        id={props.id}\n        value={props.value}\n        onChange={props.onChangeHandler}\n        onBlur={props.OnValidation}/>\n    </div>\n );\n});\n\nexport default Input;","import React, { useState , useEffect, useReducer, useContext, useRef } from 'react';\n\nimport Card from '../UI/Card/Card';\nimport classes from './Login.module.css';\nimport Button from '../UI/Button/Button';\nimport AuthContext from '../../store/auth-context';\nimport Input from '../UI/Input/Input';\n\nconst emailCheck = (state,action) => {\n  if(action.type === 'USER_INPUT'){\n    return {value: action.val, isValid: action.val.includes('@')};\n  }\n  if(action.type === 'USER_BLUR'){\n    return {value:state.value,isValid: state.value.includes('@') };\n  }\nreturn {value:'',isValid:false};\n}\n\nconst passwordCheck = (state,action) => {\n  if(action.type === 'USER_INPUT'){\n    return {value: action.val, isValid: action.val.trim().length > 6};\n  }\n  if(action.type === 'USER_BLUR'){\n    return {value: state.value, isValid: state.value.trim().length > 6};\n  }\n  return {value: \"\", isValid: false};\n}\n\nconst Login = (props) => {\n  // const [enteredEmail, setEnteredEmail] = useState('');\n  // const [emailIsValid, setEmailIsValid] = useState();\n  // const [enteredPassword, setEnteredPassword] = useState('');\n  // const [passwordIsValid, setPasswordIsValid] = useState();\n  const [emailValid, dispatchEmail] = useReducer(emailCheck,{value:\"\",isValid:null});\n  const [passwordValid, dispatchPassword] = useReducer(passwordCheck, {value:\"\",isValid:null});\n  const [formIsValid, setFormIsValid] = useState(false);\n\n  const ctx = useContext(AuthContext);\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  useEffect(()=>{\n    console.log(\"first func ran\");\n    return (()=>{\n      console.log(\"first cleanup ran\");\n    });\n  },[]);\n\n  useEffect(() => {\n    console.log(\"second func ran\");\n    const handleTimer = setTimeout(()=>{\n      setFormIsValid(\n        emailValid.isValid && passwordValid.isValid\n      );\n    },500);\n    return () => {\n      console.log(\"second cleanup ran\");\n      clearTimeout(handleTimer);\n    };\n    \n  }, [emailValid.isValid,passwordValid.isValid])\n\n\n  const emailChangeHandler = (event) => {\n    // setEnteredEmail(event.target.value);\n    dispatchEmail({type:\"USER_INPUT\",val:event.target.value});\n  };\n\n  const passwordChangeHandler = (event) => {\n    // setEnteredPassword(event.target.value);\n    dispatchPassword({type: \"USER_INPUT\", val: event.target.value});\n    // setFormIsValid(emailValid.isValid && passwordValid.isValid);\n  };\n\n  const validateEmailHandler = () => {\n    // setEmailIsValid(emailValid.isValid);\n    dispatchEmail({type:\"USER_BLUR\"});\n  };\n\n  const validatePasswordHandler = () => {\n    // setPasswordIsValid(enteredPassword.trim().length > 6);\n    dispatchPassword({type: \"USER_BLUR\"});\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    if(formIsValid)\n    ctx.onLogin(emailValid.value, passwordValid.value);\n    else if(!emailValid.isValid){\n      emailRef.current.focus();\n    }\n    else{\n      passwordRef.current.focus();\n    }\n  };\n\n  return (\n    <Card className={classes.login}>\n      <form onSubmit={submitHandler}>\n        <Input ref={emailRef} id=\"email\" type=\"email\" label=\"E-Mail\" isValid={emailValid.isValid} onChangeHandler={emailChangeHandler} onValidation ={validateEmailHandler} value={emailValid.value}/>\n        <Input ref={passwordRef} id=\"password\" type=\"password\" label=\"Password\" isValid={passwordValid.isValid} onChangeHandler={passwordChangeHandler} onValidation ={validatePasswordHandler} value={passwordValid.value}/>\n        <div className={classes.actions}>\n          <Button type=\"submit\" className={classes.btn}>\n            Login\n          </Button>\n        </div>\n      </form>\n    </Card>\n  );\n};\n\nexport default Login;\n","import React from 'react';\n\nimport { useContext } from 'react';\nimport Card from '../UI/Card/Card';\nimport classes from './Home.module.css';\nimport Button from '../UI/Button/Button';\nimport AuthContext from '../../store/auth-context';\n\nconst Home = () => {\n  const ctx = useContext(AuthContext);\n  return (\n    <Card className={classes.home}>\n      <h1>Welcome back!</h1>\n      <Button onClick={ctx.onLogout}>Logout</Button>\n    </Card>\n  );\n};\n\nexport default Home;\n","import React, { useContext } from 'react';\n\nimport classes from './Navigation.module.css';\nimport AuthContext from '../../store/auth-context.js';\n\nconst Navigation = () => {\n  const ctx = useContext(AuthContext);\n\n  return (\n        <nav className={classes.nav}>\n        <ul>\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Users</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Admin</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <button onClick={ctx.onLogout}>Logout</button>\n          </li>\n        )}\n      </ul>\n      </nav>\n  );\n};\n\nexport default Navigation;\n","import React from 'react';\n\nimport Navigation from './Navigation';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = () => {\n  return (\n    <header className={classes['main-header']}>\n      <h1>A Typical Page</h1>\n      <Navigation />\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import React, { useContext } from 'react';\n\nimport Login from './components/Login/Login';\nimport Home from './components/Home/Home';\nimport MainHeader from './components/MainHeader/MainHeader';\nimport AuthContext from './store/auth-context.js';\n\nfunction App() {\n\n  const ctx = useContext(AuthContext);\n\n  return (\n    <React.Fragment>\n      <MainHeader/>\n      <main>\n        {!ctx.isLoggedIn && <Login/>}\n        {ctx.isLoggedIn && <Home/>}\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport { AuthcontextProvider } from './store/auth-context';\n\nReactDOM.render(<AuthcontextProvider><App/></AuthcontextProvider>, document.getElementById('root'));\n"],"sourceRoot":""}